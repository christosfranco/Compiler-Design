Hello - from /home/christos/.vscode/extensions/jaredly.reason-vscode-1.7.12/bin.native.linux
Previous log location: /tmp/lsp.log
Sending notification {"jsonrpc": "2.0", "method": "client/registerCapability", "params": {"registrations": [{"id": "watching", "method": "workspace/didChangeWatchedFiles", "registerOptions": {"watchers": [{"globPattern": "**/bsconfig.json"}, {"globPattern": "**/.merlin"}]}}]}}
Sending response {"id": 0, "jsonrpc": "2.0", "result": {"capabilities": {"textDocumentSync": 1, "hoverProvider": true, "completionProvider": {"resolveProvider": true, "triggerCharacters": ["."]}, "signatureHelpProvider": {"triggerCharacters": ["("]}, "definitionProvider": true, "typeDefinitionProvider": true, "referencesProvider": true, "documentSymbolProvider": true, "codeActionProvider": true, "executeCommandProvider": {"commands": ["reason-language-server.add_to_interface_inner"]}, "codeLensProvider": {"resolveProvider": true}, "documentHighlightProvider": true, "documentRangeFormattingProvider": true, "documentFormattingProvider": true, "renameProvider": true}}}
Read message 
{"jsonrpc":"2.0","method":"initialized","params":{}}
Read message 
{"jsonrpc":"2.0","method":"workspace/didChangeConfiguration","params":{"settings":{"reason_language_server":{"location":"","build_system_override_by_root":{},"refmt":"","lispRefmt":"","mlfmt":"","format_width":100,"per_value_codelens":false,"dependencies_codelens":true,"opens_codelens":true,"show_module_path_on_hover":true,"reloadOnChange":false,"show_debug_errors":false,"autoRebuild":true}}}}
Read message 
{"jsonrpc":"2.0","method":"textDocument/didOpen","params":{"textDocument":{"uri":"file:///home/christos/CD/hw2/Compiler-Design/hw2/x86/x86.ml","languageId":"ocaml","version":1,"text":"(* X86lite language representation. *)\n\n(* assembler syntax --------------------------------------------------------- *)\n\n(* Labels for code blocks and global data. *)\ntype lbl = string\n\ntype quad = int64\n\n(* Immediate operands *)\ntype imm = Lit of quad\n         | Lbl of lbl\n\n(* Registers:\n    instruction pointer: rip\n    arguments: rdi, rsi, rdx, rcx, r09, r08\n    callee-save: rbx, rbp, r12-r15 \n*)\ntype reg = Rip\n         | Rax | Rbx | Rcx | Rdx | Rsi | Rdi | Rbp | Rsp\n         | R08 | R09 | R10 | R11 | R12 | R13 | R14 | R15\n\ntype operand = Imm of imm            (* immediate *)\n             | Reg of reg            (* register *)\n             | Ind1 of imm           (* indirect: displacement *)\n             | Ind2 of reg           (* indirect: (%reg) *)\n             | Ind3 of (imm * reg)   (* indirect: displacement(%reg) *)\n\n(* Condition Codes *)\ntype cnd = Eq | Neq | Gt | Ge | Lt | Le\n\ntype opcode = Movq | Pushq | Popq\n            | Leaq\n            | Incq | Decq | Negq | Notq\n            | Addq | Subq | Imulq | Xorq | Orq | Andq\n            | Shlq | Sarq | Shrq\n            | Jmp | J of cnd\n            | Cmpq  | Set of cnd\n            | Callq | Retq\n\n(* An instruction is an opcode plus its operands.\n   Note that arity and other constraints about the operands \n   are not checked. *)\ntype ins = opcode * operand list              \n\ntype data = Asciz of string\n          | Quad of imm\n\ntype asm = Text of ins list    (* code *)\n         | Data of data list   (* data *)\n\n(* labeled blocks of data or code *)\ntype elem = { lbl: lbl; global: bool; asm: asm }\n\ntype prog = elem list\n\n(* Provide some syntactic sugar for writing x86 code in OCaml files. *)\nmodule Asm = struct\n  let (~$) i = Imm (Lit (Int64.of_int i))      (* int64 constants *)\n  let (~$$) l = Imm (Lbl l)                    (* label constants *)\n  let (~%) r = Reg r                           (* registers *)\n\n  (* helper functions for building blocks of data or code *)\n  let data l ds = { lbl = l; global = true; asm = Data ds }\n  let text l is = { lbl = l; global = false; asm = Text is }\n  let gtext l is = { lbl = l; global = true; asm = Text is }\nend\n\n(* pretty printing ----------------------------------------------------------- *)\n\nlet string_of_reg : reg -> string = function\n  | Rip -> \"%rip\"\n  | Rax -> \"%rax\" | Rbx -> \"%rbx\" | Rcx -> \"%rcx\" | Rdx -> \"%rdx\"\n  | Rsi -> \"%rsi\" | Rdi -> \"%rdi\" | Rbp -> \"%rbp\" | Rsp -> \"%rsp\"\n  | R08 -> \"%r8 \" | R09 -> \"%r9 \" | R10 -> \"%r10\" | R11 -> \"%r11\"\n  | R12 -> \"%r12\" | R13 -> \"%r13\" | R14 -> \"%r14\" | R15 -> \"%r15\"\n\nlet string_of_byte_reg : reg -> string = function\n  | Rip -> failwith \"%rip used as byte register\"\n  | Rax -> \"%al\"   | Rbx -> \"%bl\"   | Rcx -> \"%cl\"   | Rdx -> \"%dl\"\n  | Rsi -> \"%sil\"  | Rdi -> \"%dil\"  | Rbp -> \"%bpl\"  | Rsp -> \"%spl\"\n  | R08 -> \"%r8b\"  | R09 -> \"%r9b\"  | R10 -> \"%r10b\" | R11 -> \"%r11b\"\n  | R12 -> \"%r12b\" | R13 -> \"%r13b\" | R14 -> \"%r14b\" | R15 -> \"%r15b\"\n\nlet string_of_lbl (l:lbl) : string = l\n\nlet string_of_imm : imm -> string = function\n  | Lit i -> Int64.to_string i\n  | Lbl l -> string_of_lbl l\n\nlet string_of_operand : operand -> string = function\n  | Imm i -> \"$\" ^ string_of_imm i\n  | Reg r -> string_of_reg r\n  | Ind1 i -> string_of_imm i\n  | Ind2 r -> \"(\" ^ string_of_reg r ^ \")\"\n  | Ind3 (i, r) -> string_of_imm i ^ \"(\" ^ string_of_reg r ^ \")\"\n\nlet string_of_byte_operand : operand -> string = function\n  | Imm i -> \"$\" ^ string_of_imm i\n  | Reg r -> string_of_byte_reg r\n  | Ind1 i -> string_of_imm i\n  | Ind2 r -> \"(\" ^ string_of_reg r ^ \")\"\n  | Ind3 (i, r) -> string_of_imm i ^ \"(\" ^ string_of_reg r ^ \")\"\n\nlet string_of_jmp_operand : operand -> string = function\n  | Imm i -> string_of_imm i\n  | Reg r -> \"*\" ^ string_of_reg r\n  | Ind1 i -> \"*\" ^ string_of_imm i\n  | Ind2 r -> \"*\" ^ \"(\" ^ string_of_reg r ^ \")\"\n  | Ind3 (i, r) -> \"*\" ^ string_of_imm i ^ \"(\" ^ string_of_reg r ^ \")\"\n\nlet string_of_cnd : cnd -> string = function\n  | Eq -> \"e\"  | Neq -> \"ne\" | Gt -> \"g\"\n  | Ge -> \"ge\" | Lt -> \"l\"   | Le -> \"le\"\n\nlet string_of_opcode : opcode -> string = function\n  | Movq -> \"movq\" | Pushq -> \"pushq\" | Popq -> \"popq\"\n  | Leaq -> \"leaq\"\n  | Incq -> \"incq\" | Decq -> \"decq\" | Negq -> \"negq\" | Notq -> \"notq\"\n  | Addq -> \"addq\" | Subq -> \"subq\" | Imulq -> \"imulq\"\n  | Xorq -> \"xorq\" | Orq -> \"orq\"  | Andq -> \"andq\"\n  | Shlq -> \"shlq\" | Sarq -> \"sarq\" | Shrq -> \"shrq\"\n  | Jmp  -> \"jmp\"  | J c -> \"j\" ^ string_of_cnd c \n  | Cmpq -> \"cmpq\" | Set c -> \"set\" ^ string_of_cnd c\n  | Callq -> \"callq\" | Retq -> \"retq\"\n\nlet map_concat s f l = String.concat s @@ List.map f l\n\nlet string_of_shift op = function\n  | [ Imm i ; dst ] as args ->\n    \"\\t\" ^ string_of_opcode op ^ \"\\t\" ^ map_concat \", \" string_of_operand args\n  | [ Reg Rcx ; dst ] ->\n    Printf.sprintf \"\\t%s\\t%%cl, %s\" (string_of_opcode op) (string_of_operand dst)\n  | args -> failwith (Printf.sprintf \"shift instruction has invalid operands: %s\\n\" \n                     (map_concat \", \" string_of_operand args))\n                   \nlet string_of_ins (op, args: ins) : string =\n  match op with\n  | Shlq | Sarq | Shrq -> string_of_shift op args\n  | _ ->\n  let f = match op with\n    | J _ | Jmp | Callq -> string_of_jmp_operand \n    | Set _ -> string_of_byte_operand\n    | _ -> string_of_operand \n  in\n  \"\\t\" ^ string_of_opcode op ^ \"\\t\" ^ map_concat \", \" f args\n\nlet string_of_data : data -> string = function\n  | Asciz s -> \"\\t.asciz\\t\" ^ \"\\\"\" ^ (String.escaped s) ^ \"\\\"\"\n  | Quad i -> \"\\t.quad\\t\" ^ string_of_imm i\n\nlet string_of_asm : asm -> string = function\n  | Text is -> \"\\t.text\\n\" ^ map_concat \"\\n\" string_of_ins is\n  | Data ds -> \"\\t.data\\n\" ^ map_concat \"\\n\" string_of_data ds\n\nlet string_of_elem {lbl; global; asm} : string =\n  let sec, body = match asm with\n    | Text is -> \"\\t.text\\n\", map_concat \"\\n\" string_of_ins is\n    | Data ds -> \"\\t.data\\n\", map_concat \"\\n\" string_of_data ds\n  in\n  let glb = if global then \"\\t.globl\\t\" ^ string_of_lbl lbl ^ \"\\n\" else \"\" in\n  sec ^ glb ^ string_of_lbl lbl ^ \":\\n\" ^ body\n\nlet string_of_prog (p:prog) : string =\n  String.concat \"\\n\" @@ List.map string_of_elem p\n"}}}
Found a `.merlin` file at /home/christos/CD/hw2
]] Making a new jbuilder package at /home/christos/CD/hw2
Sending notification {"jsonrpc": "2.0", "method": "window/showMessage", "params": {"type": 1, "message": "Unable to find project root dir"}}
Read message 
{"jsonrpc":"2.0","id":1,"method":"textDocument/documentSymbol","params":{"textDocument":{"uri":"file:///home/christos/CD/hw2/Compiler-Design/hw2/x86/x86.ml"}}}
[server] Got a method textDocument/documentSymbol
[server] processing took 0.0109672546387ms
Found a `.merlin` file at /home/christos/CD/hw2
]] Making a new jbuilder package at /home/christos/CD/hw2
Sending response {"id": 1, "jsonrpc": "2.0", "error": {"code": -32603, "message": "Unable to find project root dir"}}
Read message 
{"jsonrpc":"2.0","id":2,"method":"textDocument/codeAction","params":{"textDocument":{"uri":"file:///home/christos/CD/hw2/Compiler-Design/hw2/x86/x86.ml"},"range":{"start":{"line":0,"character":0},"end":{"line":0,"character":0}},"context":{"diagnostics":[]}}}
[server] Got a method textDocument/codeAction
[server] processing took 0.0150203704834ms
Found a `.merlin` file at /home/christos/CD/hw2
]] Making a new jbuilder package at /home/christos/CD/hw2
Sending response {"id": 2, "jsonrpc": "2.0", "error": {"code": -32603, "message": "Unable to find project root dir"}}
Read message 
{"jsonrpc":"2.0","id":3,"method":"textDocument/hover","params":{"textDocument":{"uri":"file:///home/christos/CD/hw2/Compiler-Design/hw2/x86/x86.ml"},"position":{"line":14,"character":17}}}
[server] Got a method textDocument/hover
[server] processing took 0.0119209289551ms
Found a `.merlin` file at /home/christos/CD/hw2
]] Making a new jbuilder package at /home/christos/CD/hw2
Sending response {"id": 3, "jsonrpc": "2.0", "error": {"code": -32603, "message": "Unable to find project root dir"}}
Read message 
{"jsonrpc":"2.0","id":4,"method":"textDocument/codeLens","params":{"textDocument":{"uri":"file:///home/christos/CD/hw2/Compiler-Design/hw2/x86/x86.ml"}}}
[server] Got a method textDocument/codeLens
[server] processing took 0.00810623168945ms
Found a `.merlin` file at /home/christos/CD/hw2
]] Making a new jbuilder package at /home/christos/CD/hw2
Sending response {"id": 4, "jsonrpc": "2.0", "result": [{"range": {"start": {"line": 0, "character": 0}, "end": {"line": 0, "character": 0}}, "command": {"title": "Unable to load compilation data: Unable to find project root dir", "command": ""}}]}
Read message 
{"jsonrpc":"2.0","id":5,"method":"textDocument/codeLens","params":{"textDocument":{"uri":"file:///home/christos/CD/hw2/Compiler-Design/hw2/x86/x86.ml"}}}
[server] Got a method textDocument/codeLens
[server] processing took 0.0109672546387ms
Found a `.merlin` file at /home/christos/CD/hw2
]] Making a new jbuilder package at /home/christos/CD/hw2
Sending response {"id": 5, "jsonrpc": "2.0", "result": [{"range": {"start": {"line": 0, "character": 0}, "end": {"line": 0, "character": 0}}, "command": {"title": "Unable to load compilation data: Unable to find project root dir", "command": ""}}]}
Found a `.merlin` file at /home/christos/CD/hw2
]] Making a new jbuilder package at /home/christos/CD/hw2
Read message 
{"jsonrpc":"2.0","id":6,"method":"textDocument/hover","params":{"textDocument":{"uri":"file:///home/christos/CD/hw2/Compiler-Design/hw2/x86/x86.ml"},"position":{"line":25,"character":19}}}
[server] Got a method textDocument/hover
[server] processing took 0.0150203704834ms
Found a `.merlin` file at /home/christos/CD/hw2
]] Making a new jbuilder package at /home/christos/CD/hw2
Sending response {"id": 6, "jsonrpc": "2.0", "error": {"code": -32603, "message": "Unable to find project root dir"}}
Read message 
{"jsonrpc":"2.0","id":7,"method":"textDocument/codeAction","params":{"textDocument":{"uri":"file:///home/christos/CD/hw2/Compiler-Design/hw2/x86/x86.ml"},"range":{"start":{"line":4,"character":10},"end":{"line":4,"character":11}},"context":{"diagnostics":[]}}}
[server] Got a method textDocument/codeAction
[server] processing took 0.014066696167ms
Found a `.merlin` file at /home/christos/CD/hw2
]] Making a new jbuilder package at /home/christos/CD/hw2
Sending response {"id": 7, "jsonrpc": "2.0", "error": {"code": -32603, "message": "Unable to find project root dir"}}
Read message 
{"jsonrpc":"2.0","id":8,"method":"textDocument/codeAction","params":{"textDocument":{"uri":"file:///home/christos/CD/hw2/Compiler-Design/hw2/x86/x86.ml"},"range":{"start":{"line":4,"character":10},"end":{"line":4,"character":12}},"context":{"diagnostics":[]}}}
[server] Got a method textDocument/codeAction
[server] processing took 0.0178813934326ms
Found a `.merlin` file at /home/christos/CD/hw2
]] Making a new jbuilder package at /home/christos/CD/hw2
Sending response {"id": 8, "jsonrpc": "2.0", "error": {"code": -32603, "message": "Unable to find project root dir"}}
Read message 
{"jsonrpc":"2.0","id":9,"method":"textDocument/codeAction","params":{"textDocument":{"uri":"file:///home/christos/CD/hw2/Compiler-Design/hw2/x86/x86.ml"},"range":{"start":{"line":4,"character":10},"end":{"line":4,"character":11}},"context":{"diagnostics":[]}}}
[server] Got a method textDocument/codeAction
[server] processing took 0.0171661376953ms
Found a `.merlin` file at /home/christos/CD/hw2
]] Making a new jbuilder package at /home/christos/CD/hw2
Sending response {"id": 9, "jsonrpc": "2.0", "error": {"code": -32603, "message": "Unable to find project root dir"}}
Read message 
{"jsonrpc":"2.0","id":10,"method":"textDocument/codeAction","params":{"textDocument":{"uri":"file:///home/christos/CD/hw2/Compiler-Design/hw2/x86/x86.ml"},"range":{"start":{"line":45,"character":16},"end":{"line":45,"character":17}},"context":{"diagnostics":[]}}}
[server] Got a method textDocument/codeAction
[server] processing took 0.0300407409668ms
Found a `.merlin` file at /home/christos/CD/hw2
]] Making a new jbuilder package at /home/christos/CD/hw2
Sending response {"id": 10, "jsonrpc": "2.0", "error": {"code": -32603, "message": "Unable to find project root dir"}}
